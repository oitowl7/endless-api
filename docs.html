
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Swagger UI</title>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700|Source+Code+Pro:300,600|Titillium+Web:400,600,700" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/swagger-ui/3.2.2/swagger-ui.css" >
  <style>
    html
    {
      box-sizing: border-box;
      overflow: -moz-scrollbars-vertical;
      overflow-y: scroll;
    }
    *,
    *:before,
    *:after
    {
      box-sizing: inherit;
    }
    body {
      margin:0;
      background: #fafafa;
    }
  </style>
</head>
<body>
<div id="swagger-ui"></div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/swagger-ui/3.2.2/swagger-ui-bundle.js"> </script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/swagger-ui/3.2.2/swagger-ui-standalone-preset.js"> </script>
<script>
window.onload = function() {
  var spec = {"openapi": "3.0.0", "info": {"title": "Endless API", "description": "API endpoints servicing single page Endless fictional website. There is absolute minimal (and often no) amounts of security in order to try to get the features of this done without creating auth systems or worrying about CORS.", "version": "0.0.1"}, "servers": [{"url": "https://singlestone-endless-api.herokuapp.com", "description": "Endless API connected to Google Cloud MYSQL database."}], "paths": {"/steps": {"get": {"summary": "Gets a list of all current \"How To\" steps for creating new accounts.", "description": "Used by the front end React app to get all the \"How To\" steps and display them on the page.", "tags": ["Steps"], "responses": {"200": {"description": "An array of objects representing each of the how to steps as well as the  version history for each one.", "content": {"application/json": {"schema": {"type": "array", "items": {"type": "object", "properties": {"id": {"type": "integer", "description": "ID of the step from the \"steps\" database table.", "example": 2, "required": true}, "stepWeight": {"type": "integer", "description": "The \"weight\" of the step. In order to not enforce strict rules on steps, a weight was given to each step in order to ensure steps could be added and deleted and have the actual stepNumber be computed from the stepWeight.", "example": 8, "required": true}, "stepNumber": {"type": "integer", "description": "Computed integer based on each stepWeight going up in order from 1. Used in the actual display for the front end website.", "example": 5, "required": true}, "initialTitle": {"type": "string", "description": "The initial title of the original versionContent data when this step was first made. Not used for anything other than quick identification.", "example": "We Fill Out a Profile", "required": true}, "versionContent": {"type": "array", "items": {"type": "object", "properties": {"id": {"type": "integer", "description": "ID of the version from the \"versions\" database table.", "example": 15, "required": true}, "fkStepId": {"type": "integer", "description": "ID of the step this version belongs to", "example": 2, "required": true}, "title": {"type": "string", "description": "Title of the step to be displayed on the site if this is the most recently made version (see effective date below)", "example": "Fill Out a Profile", "required": true}, "body": {"type": "string", "description": "Body of the step to be displayed on the site if this is the most recently made version (see effective date below)", "example": "We only want you to get games and gear that you'll love", "required": true}, "effectiveDate": {"type": "string", "description": "The created at date for each version. To keep versioning records, instead of updating versions, we will always create a new version with the new information and use the \"effectiveDate\" as the deciding factor in which version to display on site.", "example": "2019-05-20T03:04:05.000Z", "required": true}}}}}}}}}}, "500": {"description": "Internal Server Error. Please contact and admin to resolve."}}}, "post": {"summary": "Creates a new step and version", "description": "Creates a whole new step to be added to the website. The stepWeight MUST be unique.", "tags": ["Steps"], "requestBody": {"description": "A JSON object describing the new step and the new version.", "required": true, "content": {"application/json": {"schema": {"type": "object", "properties": {"stepWeight": {"type": "integer", "description": "The \"weight\" of the step. In order to not enforce strict rules on steps, a weight was given to each step in order to ensure steps could be added and deleted and have the actual stepNumber be computed from the stepWeight. This property MUST BE UNIQUE.", "example": 8, "required": true}, "initialVersion": {"type": "object", "properties": {"title": {"type": "string", "description": "Title of the step to be displayed on the site if this is the most recently made version (see effective date below)", "example": "Fill Out a Profile", "required": true}, "body": {"type": "string", "description": "Body of the step to be displayed on the site if this is the most recently made version (see effective date below)", "example": "We only want you to get games and gear that you'll love", "required": true}}}}}}}}, "responses": {"201": {"description": "A message indication the successful creation of the new step and version.", "content": {"application/json": {"schema": {"type": "object", "properties": {"message": {"type": "string", "description": "Message indicating success in creating step and variable", "example": "New step and version successfully created."}}}}}}, "400": {"description": "Bad Request. Something in your request body caused an error. Most likely, it was a duplicate requestWeight or missing property value."}, "500": {"description": "Internal Server Error. Please contact and admin to resolve."}}}}, "steps/{id}": {"get": {"summary": "Gets step and all versions of passed step ID", "description": "Fetches a single step and all versions for the passed id from the steps and versions tables respectively.", "tags": ["Steps"], "parameters": [{"in": "path", "name": "id", "description": "The ID of the step to retrieve from the steps database table.", "required": true}], "responses": {"200": {"description": "An object containing the step and all versions.", "content": {"application/json": {"schema": {"type": "object", "properties": {"id": {"type": "integer", "description": "ID of the step from the \"steps\" database table.", "example": 2, "required": true}, "stepWeight": {"type": "integer", "description": "The \"weight\" of the step. In order to not enforce strict rules on steps, a weight was given to each step in order to ensure steps could be added and deleted and have the actual stepNumber be computed from the stepWeight.", "example": 8, "required": true}, "initialTitle": {"type": "string", "description": "The initial title of the original versionContent data when this step was first made. Not used for anything other than quick identification.", "example": "We Fill Out a Profile", "required": true}, "versionContent": {"type": "array", "items": {"type": "object", "properties": {"id": {"type": "integer", "description": "ID of the version from the \"versions\" database table.", "example": 15, "required": true}, "fkStepId": {"type": "integer", "description": "ID of the step this version belongs to", "example": 2, "required": true}, "title": {"type": "string", "description": "Title of the step to be displayed on the site if this is the most recently made version (see effective date below)", "example": "Fill Out a Profile", "required": true}, "body": {"type": "string", "description": "Body of the step to be displayed on the site if this is the most recently made version (see effective date below)", "example": "We only want you to get games and gear that you'll love", "required": true}, "effectiveDate": {"type": "string", "description": "The created at date for each version. To keep versioning records, instead of updating versions, we will always create a new version with the new information and use the \"effectiveDate\" as the deciding factor in which version to display on site.", "example": "2019-05-20T03:04:05.000Z", "required": true}}}}}}}}}, "500": {"description": "Internal Server Error. Please contact and admin to resolve."}}}, "put": {"summary": "Updates the weightNumber for a step.", "description": "Updates the weightNumber for a step in the steps table of the database. Does not update any version information. For that, you must use the steps/{id}/version PUT method.", "tags": ["Steps"], "parameters": [{"in": "path", "name": "id", "description": "The ID of the step to retrieve from the steps database table.", "required": true}], "requestBody": {"description": "A JSON object containing only the stepWeight change you would like to make. Cannont conflict with any other steps. MUST BE UNIQUE.", "required": true, "content": {"application/json": {"schema": {"type": "object", "properties": {"stepWeight": {"type": "integer", "description": "The new stepWeight you would like the step with the passed ID in the path to have.", "example": 20, "required": true}}}}}}, "responses": {"200": {"description": "Message indicating successful update of the passed step.", "content": {"application/json": {"schema": {"type": "object", "properties": {"message": {"type": "string", "description": "Message indicating success in updating step", "example": "Step successfully updated."}}}}}}, "400": {"description": "Bad request. Most likely, the step weight passed is already used by another step."}, "404": {"description": "Not found. There was no step with the id passed in the path."}, "500": {"description": "Internal Server Error. Please contact and admin to resolve."}}}, "delete": {"summary": "Delete the step with the passed id", "description": "Delete the step with the passed id from the steps table. Also deletes all version history along with it. If given more time for architecting the database, this would merely soft delete in order to maintain data integrity however, this is a job interview project and I have run out of time.", "tags": ["Steps"], "parameters": [{"in": "path", "name": "id", "description": "The ID of the step to delete database table.", "required": true}], "responses": {"200": {"description": "Message indicating successful deletion of the passed step and it's versions.", "content": {"application/json": {"schema": {"type": "object", "properties": {"message": {"type": "string", "description": "Message indicating success in deleting step", "example": "Step successfully deleted."}}}}}}, "404": {"description": "Not found. There was no step with the id passed in the path."}, "500": {"description": "Internal Server Error. Please contact and admin to resolve."}}}}, "/steps/{id}/version": {"post": {"summary": "Creates a new version for the step with the passed ID.", "description": "Creates a new version in the version table of the database for the step with the passed ID. This will become the displayed version on the website.", "tags": ["Version"], "parameters": [{"in": "path", "name": "id", "description": "The ID of the step to create the new version for.", "required": true}], "requestBody": {"description": "A JSON object describing the new step and the new version.", "required": true, "content": {"application/json": {"schema": {"type": "object", "properties": {"title": {"type": "string", "description": "Title of the step to be displayed on the site if this is the most recently made version (see effective date below)", "example": "Fill Out a Profile", "required": true}, "body": {"type": "string", "description": "Body of the step to be displayed on the site if this is the most recently made version (see effective date below)", "example": "We only want you to get games and gear that you'll love", "required": true}}}}}}, "responses": {"201": {"description": "A message indication the successful creation of the new version.", "content": {"application/json": {"schema": {"type": "object", "properties": {"message": {"type": "string", "description": "Message indicating success in creating variable", "example": "New version successfully created."}}}}}}, "400": {"description": "Bad Request. Something in your request body caused an error. Most likely, it was a missing property value."}, "404": {"description": "Not found. There was no step with the id passed in the path."}, "500": {"description": "Internal Server Error. Please contact and admin to resolve."}}}}}};
  // Build a system
  const ui = SwaggerUIBundle({
    spec: spec,
    dom_id: '#swagger-ui',
    deepLinking: true,
    presets: [
      SwaggerUIBundle.presets.apis,
      SwaggerUIStandalonePreset
    ],
    plugins: [
      SwaggerUIBundle.plugins.DownloadUrl
    ],
    layout: "StandaloneLayout"
  })
  window.ui = ui
}
</script>
</body>
</html>
